<!DOCTYPE HTML>
<html>
    <head>
    	<title> Materials Management </title>
    	<meta charset="utf-8"/>
    	<meta name="author" content="Team 5"/>
    	<meta name="description" content="Web application for maintenance activies."/>
    	<link rel="stylesheet" type="text/css" href="stylesheet.css"/>
      <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Goldman&display=swap" rel="stylesheet">
        <style>
            a{
              text-decoration: none;
              color: black;
            }
            a:visited{
              color: black;
            }
        </style>
    </head>
    <body>
      <div class="row">
        <div class="header">
          <p>
            <a href="plannerview.html"><img border="0" src="return.png" width="70" height="70"> </a>
          </p>
        </div>
        <div class="header">
          <h1> Planned Activities </h1>
        </div>
        <div class="header">
          <p>
            <a href="index.html"><img border="0" src="exit.png" width="70" height="70"> </a>
          </p>
        </div>
      </div>
      <div class="column" style="text-align: center;">
          <template id="week-template"><option value='{Week}'>{Week}</option></template>
          <label for="week-select">
            Week: <select id="week-select" name="week" onChange="loadPlanned(this.options[this.selectedIndex].value)">
                  </select>
          </label>
        <table id="activities">
          <thead>
            <tr>
              <th>ID</th>
              <th>Area</th>
              <th>Type</th>
              <th>Estimated Intervention Time</th>
              <th style="text-align: center;"><h3>Select</h3></th>
            </tr>
            <template id="activities-row-template">
            <tr>
              <td>{ID}</td>
              <td>{Area}</td>
              <td>{Type}</td>
              <td>{EstimatedTime}</td>
              <td style="text-align:center;">
                  <a href="selected.html" class="btn btn-primary" onclick="passId()">Select</a>
              </td>
            </tr>
            </template>
          </thead>
          <tbody id="activities-rows">

          </tbody>
          <tr>
            <td colspan="5" style="background-color: #7A858C; color: white;"><b><a href="addactivity.html">+ Add</a></b></td>
          </tr>
        </table>
      </div>
      <div class="footer">
        <h2>Team 5</h2>
      </div>
     <!-- jQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>

    <!-- Custom JS -->
    <script type="text/javascript" src="../controllers/loader.js"></script>

    <script type="application/javascript">
      $(document).ready(function() {
        loadWeeks();
      });

      function passId() {
        $('#activities').find('tr').click( function(){
          localStorage.setItem("id",$(this).index()+1);
        });
      };
    </script>
    </body>
</html>
